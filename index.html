<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Garnett Work — Verify with Confidence</title>

  <style>
    :root{
      --bg0:#000;
      --panel: rgba(18,18,22,0.72);
      --border: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.65);
      --gold: rgba(255,215,0,0.95);
      --gold2: rgba(255,215,0,0.78);
      --shadow: 0 18px 50px rgba(0,0,0,0.6);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(circle at 35% 20%, rgba(255,215,0,0.10), transparent 42%),
        radial-gradient(circle at 75% 35%, rgba(255,215,0,0.06), transparent 40%),
        radial-gradient(circle at top, #16161a 0%, #050507 55%, #000 100%);
    }

    .container{
      max-width: 1180px;
      margin: 0 auto;
      padding: 28px 22px 34px;
    }

    /* Top nav */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      margin-bottom: 22px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 9px 12px;
      border-radius: 999px;
      background: rgba(255,215,0,0.08);
      border: 1px solid rgba(255,215,0,0.22);
      color: rgba(255,255,255,0.88);
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.2px;
      user-select:none;
    }

    .pill .dot{
      width: 8px; height: 8px;
      border-radius: 50%;
      background: rgba(255,215,0,0.85);
      box-shadow: 0 0 10px rgba(255,215,0,0.45);
    }

    .navbtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,215,0,0.22);
      background: rgba(255,215,0,0.06);
      color: rgba(255,255,255,0.9);
      font-weight: 800;
      font-size: 13px;
      cursor:pointer;
      text-decoration:none;
      user-select:none;
      transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease, border-color 140ms ease;
    }

    /* Hero grid */
    .hero{
      display:grid;
      grid-template-columns: 1.25fr 0.95fr;
      gap: 18px;
      align-items: start;
      margin-bottom: 18px;
    }

    @media (max-width: 980px){
      .hero{ grid-template-columns: 1fr; }
    }

    .heroLeft{
      position:relative;
      min-height: 360px;
      padding: 18px 0 0;
    }

    h1{
      margin: 8px 0 10px;
      font-size: clamp(36px, 4.2vw, 56px);
      letter-spacing: -0.6px;
      line-height: 1.04;
      font-weight: 950;
    }

    .lead{
      margin: 0 0 14px;
      max-width: 560px;
      color: var(--muted);
      font-size: 15.5px;
      line-height: 1.5;
    }

    .ctaRow{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 14px 0 10px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 11px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,215,0,0.35);
      font-weight: 900;
      font-size: 13px;
      letter-spacing: 0.2px;
      cursor:pointer;
      user-select:none;
      text-decoration:none;
      transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease, border-color 140ms ease;
    }

    .btnPrimary{
      background: linear-gradient(180deg, var(--gold), var(--gold2));
      color: #0a0a0a;
    }

    .btnGhost{
      background: rgba(255,255,255,0.04);
      color: rgba(255,255,255,0.9);
      border: 1px solid rgba(255,255,255,0.10);
    }

    /* ===== Glow for ALL buttons (hover + pressed) ===== */
    .btn:hover, .navbtn:hover, button:hover{
      transform: translateY(-2px);
      filter: brightness(1.05);
      box-shadow:
        0 14px 34px rgba(0,0,0,0.55),
        0 0 26px rgba(255,215,0,0.28),
        0 0 60px rgba(255,215,0,0.14);
      border-color: rgba(255,215,0,0.55);
    }
    .btn:active, .navbtn:active, button:active{
      transform: translateY(0px) scale(0.985);
      filter: brightness(0.98);
      box-shadow:
        0 10px 24px rgba(0,0,0,0.60),
        0 0 34px rgba(255,215,0,0.40),
        0 0 80px rgba(255,215,0,0.18);
      border-color: rgba(255,215,0,0.75);
    }
    .btn:focus-visible, .navbtn:focus-visible, button:focus-visible{
      outline: none;
      box-shadow:
        0 0 0 4px rgba(255,215,0,0.18),
        0 0 28px rgba(255,215,0,0.26),
        0 18px 40px rgba(0,0,0,0.55);
    }

    .subNote{
      margin-top: 10px;
      color: rgba(255,255,255,0.55);
      font-size: 12.5px;
    }
   /* Center the hero logo */
.hero-logo-wrapper {
  display: flex;
  justify-content: center;
  width: 100%;
  margin: 18px 0 34px 0; /* spacing above/below logo */
}

.brandLogo {
  width: 1320px;           /* adjust size */
  max-width: 60vw;        /* responsive */
  height: auto;
  opacity: 0.98;
  filter: drop-shadow(0 0 34px rgba(255,215,0,0.24));
  pointer-events: none;
}


/* Adjust for smaller laptops */
@media (max-width: 1200px) {
  .brandLogo { 
    width: 420px; 
    left: 10px;        /* Keeping it on the left */
    right: auto; 
    top: 175px; 
  }
}

    /* Right run card */
    .runCard{
      background: rgba(22,22,26,0.72);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px;
      padding: 16px;
      box-shadow: var(--shadow);
    }

    .runTitle{
      font-weight: 950;
      margin: 0 0 6px;
      font-size: 15px;
    }

    .runDesc{
      margin: 0 0 12px;
      color: rgba(255,255,255,0.65);
      font-size: 12.5px;
      line-height: 1.4;
    }

    label{
      display:block;
      font-size: 11px;
      font-weight: 900;
      letter-spacing: 0.8px;
      color: rgba(255,215,0,0.82);
      margin: 10px 0 6px;
    }

    .input, select{
      width:100%;
      padding: 11px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(12,12,16,0.85);
      color: rgba(255,255,255,0.92);
      outline: none;
    }

    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .runBtn{
      width:100%;
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,215,0,0.35);
      background: linear-gradient(180deg, var(--gold), var(--gold2));
      color: #0a0a0a;
      font-weight: 950;
      letter-spacing: 0.2px;
      cursor:pointer;
      transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease, border-color 140ms ease;
    }

    /* Mid cards */
    .midCards{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin: 16px 0 16px;
    }
    @media (max-width: 980px){
      .midCards{ grid-template-columns: 1fr; }
    }

    .infoCard{
      background: rgba(18,18,22,0.58);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 14px 16px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.35);
    }

    .infoCard h4{
      margin: 0 0 6px;
      font-size: 13px;
      font-weight: 950;
    }

    .infoCard p{
      margin:0;
      color: rgba(255,255,255,0.65);
      font-size: 12.5px;
      line-height: 1.45;
    }

    /* Pricing */
    .pricingWrap{ margin-top: 8px; }
    .pricingTitle{
      margin: 10px 0 6px;
      font-size: 18px;
      font-weight: 950;
    }
    .pricingSub{
      margin: 0 0 10px;
      color: rgba(255,255,255,0.62);
      font-size: 12.5px;
    }

    .pricingFYI{
      margin: 0 0 12px;
      color: rgba(255,255,255,0.55);
      font-size: 12px;
      line-height: 1.45;
    }
    .pricingFYI strong{ color: rgba(255,255,255,0.82); }
    .pricingFYI .gold{ color: rgba(255,215,0,0.9); font-weight: 900; }

    .pricingGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width: 980px){
      .pricingGrid{ grid-template-columns: 1fr; }
    }

    .priceCard{
      background: rgba(18,18,22,0.58);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 14px 16px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.35);
      transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
      cursor: pointer;
      user-select:none;
    }

    .priceCard:hover{
      transform: translateY(-3px);
      border-color: rgba(255,215,0,0.28);
      box-shadow: 0 16px 38px rgba(0,0,0,0.50), 0 0 22px rgba(255,215,0,0.12);
    }

    .priceCard:active{
      transform: translateY(-1px) scale(0.995);
      border-color: rgba(255,215,0,0.48);
      box-shadow: 0 18px 44px rgba(0,0,0,0.60), 0 0 28px rgba(255,215,0,0.18);
    }

    .priceCard h5{
      margin:0 0 8px;
      font-size: 13px;
      font-weight: 950;
    }
    .priceBig{
      margin:0 0 6px;
      font-size: 22px;
      font-weight: 950;
      color: rgba(255,215,0,0.92);
    }
    .priceDesc{
      margin:0;
      color: rgba(255,255,255,0.62);
      font-size: 12px;
      line-height: 1.45;
    }

    .footer{
      margin-top: 14px;
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,0.06);
      display:flex;
      justify-content: space-between;
      gap: 10px;
      color: rgba(255,255,255,0.45);
      font-size: 12px;
      flex-wrap: wrap;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="topbar">
      <div class="pill"><span class="dot"></span> Payment never changes truth</div>
      <a class="navbtn" href="#pricing">Pricing</a>
    </div>

    <section class="hero">
      <div class="heroLeft">
        <h1>Verify with Confidence.</h1>
        <p class="lead">
          Garnett Work helps you stop guessing. Paste a listing link and your buy price to get a free
          PASS/FAIL teaser. Unlock the Truth Packet when it matters: comps, math, rules fired, and a decision receipt.
        </p>

        <div class="ctaRow">
          <a class="btn btnPrimary" href="#run">Run Free Teaser</a>
          <a class="btn btnGhost" href="#how">How it works</a>
        </div>

        <div class="subNote">Soft launch ready. Built for speed, trust, and repeatable decisions.</div>

       <div class="hero-logo-wrapper">
  <img class="brandLogo" src="logo.png" alt="Garnett Work logo" />
</div>
    </div>

      <div class="runCard" id="run">
        <div class="runTitle">Run Garnett</div>
        <div class="runDesc">
          Paste a listing URL + deal details to get a free teaser verdict.
        </div>

        <label>LISTING URL</label>
        <input class="input" id="listingInput" placeholder="https://www.ebay.com/itm/406698481540 or 406698481540" />
        <div id="inlineMsg" style="display:none;margin-top:8px;color:rgba(255,215,0,0.92);font-size:12px;line-height:1.45;"></div>
        <a
          id="openShortLinkBtn"
          class="btn btnGhost"
          href="#"
          target="_blank"
          rel="noopener noreferrer"
          style="display:none;margin-top:8px;width:max-content;"
        >Open link</a>

        <div class="row2">
          <div>
            <label>BUY PRICE</label>
            <input class="input" id="buyPriceInput" placeholder="$" />
          </div>
          <div>
            <label>CONDITION</label>
            <select id="conditionSelect">
              <option>Used</option>
              <option>Open Box</option>
              <option>New</option>
            </select>
          </div>
        </div>

        <details style="margin-top:10px;color:rgba(255,255,255,0.75);font-size:12px;">
          <summary style="cursor:pointer;color:rgba(255,255,255,0.85);font-weight:800;">How to copy the right eBay link</summary>
          <div style="margin-top:8px;line-height:1.5;">
            Open the listing in eBay, then copy the full browser URL that contains <code>/itm/123456789012</code>.
            You can also paste the 12-digit item ID directly.
          </div>
        </details>

        <button class="runBtn" id="runBtn" type="button">Get Teaser Verdict (Free)</button>
        <div
          id="resultBox"
          style="margin-top:12px;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);background:rgba(12,12,16,0.6);color:rgba(255,255,255,0.9);font-size:13px;"
        >Ready.</div>
      </div>
    </section>

    <section class="midCards" id="how">
      <div class="infoCard">
        <h4>Free Teaser</h4>
        <p>Instant PASS/FAIL + headline numbers. No sensitive details. Fast triage.</p>
      </div>
      <div class="infoCard">
        <h4>Truth Packet (Paid)</h4>
        <p>Comps, fee math, rules fired, and a decision receipt. Proof you can trust.</p>
      </div>
    </section>

    <section class="pricingWrap" id="pricing">
      <div class="pricingTitle">Pricing</div>

      <div class="pricingSub">
        Stop guessing. Verify the real market price before you buy — so you don’t get stuck holding a loss.
      </div>

      <div class="pricingFYI">
        <strong>FYI:</strong> <span class="gold">Teaser</span> = signal. <span class="gold">Unlock</span> = proof.
        <strong>Payment never changes truth</strong> — it only unlocks detail.
        <br><strong>Payments accepted:</strong> Lightning (BTC) • Card (Stripe)
      </div>

      <div class="pricingGrid">
        <div class="priceCard" tabindex="0" role="button">
          <h5>Free Teaser</h5>
          <div class="priceBig">FREE</div>
          <p class="priceDesc">Unlimited basic verdicts + headline numbers.</p>
        </div>

        <div class="priceCard" tabindex="0" role="button">
          <h5>Single Unlock</h5>
          <div class="priceBig">$0.25</div>
          <p class="priceDesc">Unlock one full Truth Packet (comps, math, rules fired, receipt).</p>
        </div>

        <div class="priceCard" tabindex="0" role="button">
          <h5>Starter</h5>
          <div class="priceBig">$10/mo</div>
          <p class="priceDesc">50 unlocks included. $0.20 each extra. Saved history.</p>
        </div>
      </div>

      <div class="pricingSub" style="margin-top:10px;">
        Pro/Team/Enterprise tiers can be added after repeat users exist.
      </div>
    </section>

    <div class="footer">
      <div>© 2026 Garnett Work</div>
      <div>Truth decides. Payment only unlocks detail.</div>
    </div>
  </div>
 <script>
(() => {
  const runBtn = document.getElementById("runBtn");
  const urlInput = document.getElementById("listingInput");
  const priceInput = document.getElementById("buyPriceInput");
  const conditionSelect = document.getElementById("conditionSelect");
  const inlineMsg = document.getElementById("inlineMsg");
  const openShortLinkBtn = document.getElementById("openShortLinkBtn");
  const resultBox = document.getElementById("resultBox");

  const LIVE_API_URL = "https://garnett-teaser-204821439481.us-central1.run.app/teaser";
  const LOCAL_API_URL = "http://localhost:8080/teaser";
  const API_URL = /^(localhost|127\.0\.0\.1)$/.test(window.location.hostname)
    ? LOCAL_API_URL
    : LIVE_API_URL;

  function parseListingInput(raw) {
    const value = String(raw || "").trim();
    if (!value) return { type: "empty" };
    if (/ebay\.us/i.test(value)) return { type: "short", shortUrl: value };
    if (/^\d{12}$/.test(value)) {
      return { type: "ok", itemId: value, canonicalUrl: `https://www.ebay.com/itm/${value}` };
    }
    const m = value.match(/\/itm\/(\d{12})/i);
    if (m?.[1]) {
      return { type: "ok", itemId: m[1], canonicalUrl: `https://www.ebay.com/itm/${m[1]}` };
    }
    return { type: "invalid" };
  }

  function clearInlineMessage() {
    inlineMsg.style.display = "none";
    inlineMsg.textContent = "";
    openShortLinkBtn.style.display = "none";
    openShortLinkBtn.href = "#";
  }

  function money(n){
    const x = Number(n);
    if (!Number.isFinite(x)) return "N/A";
    return x.toLocaleString(undefined, { style:"currency", currency:"USD" });
  }

  runBtn.addEventListener("click", async () => {
    const parsed = parseListingInput(urlInput.value);
    const buyPrice = Number((priceInput.value || "").replace(/[^0-9.]/g, ""));
    const condition = conditionSelect?.value || "unknown";

    clearInlineMessage();
    if (parsed.type === "empty") return (resultBox.innerHTML = "❌ Paste an eBay listing URL or 12-digit item ID.");
    if (parsed.type === "invalid") return (resultBox.innerHTML = "❌ Paste a full eBay URL containing /itm/{12-digit-id} or a raw 12-digit item ID.");
    if (parsed.type === "short") {
      inlineMsg.textContent = "This is a short eBay link. Tap it to open eBay, then copy the full URL from your browser and paste it here.";
      inlineMsg.style.display = "block";
      openShortLinkBtn.href = parsed.shortUrl;
      openShortLinkBtn.style.display = "inline-flex";
      resultBox.innerHTML = "⚠️ Short eBay links are not supported for direct submission.";
      return;
    }
    if (!buyPrice || buyPrice <= 0) return (resultBox.innerHTML = "❌ Enter a valid buy price.");
    const listingUrl = parsed.canonicalUrl;

    runBtn.disabled = true;
    runBtn.textContent = "Running…";
    resultBox.innerHTML = "Checking the market…";

    try {
      console.debug("[Garnett teaser] request URL:", API_URL);
      const resp = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ listingUrl, buyPrice, condition })
      });
      console.debug("[Garnett teaser] response status:", resp.status);

      const rawText = await resp.text();
      let data = null;
      try {
        data = rawText ? JSON.parse(rawText) : null;
      } catch {
        data = null;
      }
      console.debug("[Garnett teaser] response data:", data);
      if (!resp.ok || !data || typeof data !== "object") {
        throw new Error((data && data.error) || rawText || "Request failed");
      }
      if (data.ok === false) {
        const retryAfter = Number(data.retryAfterSec);
        const titleSource = data?.debug?.titleSource ? `<br><span style="color:rgba(255,255,255,0.65)">titleSource: ${data.debug.titleSource}</span>` : "";
        resultBox.innerHTML = `
          <div style="display:grid;gap:6px;">
            <strong style="font-size:16px;color:rgba(255,180,100,0.95);">⚠️ ${data.reason || "REQUEST_BLOCKED"}</strong>
            <div>${data.error || "Request could not be completed."}</div>
            ${Number.isFinite(retryAfter) && retryAfter > 0 ? `<span style="color:rgba(255,255,255,0.65)">Retry in ${retryAfter}s</span>` : ""}
            ${titleSource}
          </div>
        `;
        return;
      }

      const verdict = String(data.verdict || "UNKNOWN");
      const verdictColor =
        verdict === "PASS" ? "rgba(0,255,170,0.95)" :
        verdict === "FAIL" ? "rgba(255,120,120,0.95)" :
        "rgba(255,215,0,0.95)";
      const debugJson = JSON.stringify(data.debug || {}, null, 2);
      resultBox.innerHTML = `
        <div style="display:grid;gap:8px;">
          <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;">
            <strong style="font-size:16px;color:${verdictColor};">${verdict}</strong>
            <span style="font-size:12px;color:rgba(255,255,255,0.7);">Confidence: <strong style="color:rgba(255,255,255,0.95);">${data.confidence || "—"}</strong></span>
          </div>
          <div style="display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px;">
            <div><div style="font-size:11px;color:rgba(255,255,255,0.6);">Market</div><div style="font-weight:800;">${money(data.marketPrice)}</div></div>
            <div><div style="font-size:11px;color:rgba(255,255,255,0.6);">Margin</div><div style="font-weight:800;">${Number(data.marginPct || 0).toFixed(0)}%</div></div>
            <div><div style="font-size:11px;color:rgba(255,255,255,0.6);">Comps</div><div style="font-weight:800;">${Number.isFinite(Number(data.compsCount)) ? data.compsCount : "—"}</div></div>
            <div><div style="font-size:11px;color:rgba(255,255,255,0.6);">Buy</div><div style="font-weight:800;">${money(data.buyPrice)}</div></div>
          </div>
          <div style="font-size:12px;color:rgba(255,255,255,0.75);">${data.title || ""}</div>
          <div style="font-size:11px;color:rgba(255,255,255,0.6);">Item ID: ${data.itemId || "—"} · Condition: ${data.condition || "—"}</div>
          ${data?.debug?.titleSource ? `<div style="font-size:11px;color:rgba(255,255,255,0.6);">titleSource: ${data.debug.titleSource}</div>` : ""}
          <details>
            <summary style="cursor:pointer;font-size:12px;color:rgba(255,255,255,0.75);">Debug</summary>
            <pre style="margin:8px 0 0;white-space:pre-wrap;word-break:break-word;font-size:11px;color:rgba(255,255,255,0.75);">${debugJson}</pre>
          </details>
        </div>
      `;
    } catch (e) {
      resultBox.innerHTML = `❌ ${e.message}`;
    } finally {
      runBtn.disabled = false;
      runBtn.textContent = "Get Teaser Verdict (Free)";
    }
  });
})();
</script>

</body>
</html>
